/*! For license information please see 10.696f2b8b92959dc586fb.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{258:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("q-dialog",{attrs:{value:t.value,persistent:t.isPersistent},on:{input:function(e){return t.$emit("input",e)},show:function(e){return t.$emit("show")},hide:function(e){return t.$emit("hide")}}},[e("q-card",{staticClass:"dialog_popup q-pa-sm",style:t.cardStyle},[e("q-card-section",{staticClass:"q-pb-none"},[e("div",{staticClass:"content_popup_title"},[t._v(t._s(t.title))])]),t._v(" "),e("q-card-section",{staticClass:"q-pb-none",class:t.contentClass},[t._t("content")],2),t._v(" "),e("q-card-actions",{staticClass:"q-pr-md q-pt-none",attrs:{align:"right"}},[t.showCancel?e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{outline:"",size:"md","text-color":"secondary",label:t.cancelLabel,padding:"4px 12px"},on:{click:function(e){return t.$emit("cancel")}}}):t._e(),t._v(" "),t.showConfirm?e("q-btn",{attrs:{disable:!t.isValid,size:"md",color:t.confirmColor,label:t.confirmLabel,padding:"4px 12px"},on:{click:function(e){return t.$emit("confirm")}}}):t._e(),t._v(" "),t._t("actions")],2)],1)],1)};s._withStripped=!0;var r={name:"BaseDialog",props:{value:{type:Boolean,default:!1},title:{type:String,required:!0},isValid:{type:Boolean,default:!1},confirmLabel:{type:String,default:"Добавить"},cancelLabel:{type:String,default:"Закрыть"},confirmColor:{type:String,default:"accent"},showCancel:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},isPersistent:{type:Boolean,default:!1},cardStyle:{type:String,default:""},contentClass:{type:String,default:""}},emits:["input","show","hide","confirm","cancel"]},i=a(114),o=Object(i.a)(r,s,[],!1,null,null,null);e.a=o.exports},267:function(t,e,a){"use strict";a.r(e);a(90);var s=function(){var t=this,e=t._self._c;return e("q-page",[e("q-breadcrumbs",{staticClass:"q-mb-md relative-position text-h4"},[e("q-breadcrumbs-el",{staticClass:"cursor-pointer text-secondary",attrs:{icon:"home",label:"Главная",to:"/"}}),t._v(" "),e("q-breadcrumbs-el",{staticClass:"text-dark text-weight-bold",attrs:{icon:"account_circle",label:"Профиль",to:"/profile"}})],1),t._v(" "),e("div",{staticClass:"text-h1 q-mb-md"},[e("q-icon",{attrs:{name:"account_circle",size:"30px",color:"dark"}}),t._v("\n      Профиль\n    ")],1),t._v(" "),e("div",{staticClass:"row q-col-gutter-md"},[e("div",{staticClass:"col-12 col-md-4"},[e("q-card",{staticClass:"profile-sidebar sticky-card"},[e("q-card-section",{staticClass:"text-center q-pb-none"},[e("q-avatar",{staticClass:"q-mb-md",attrs:{size:"120px"}},[e("img",{attrs:{src:t.userProfile.avatar}})]),t._v(" "),e("div",{staticClass:"text-h2"},[t._v(t._s(t.userProfile.name))]),t._v(" "),e("div",{staticClass:"text-h4"},[t._v(t._s(t.userProfile.role))]),t._v(" "),e("q-badge",{staticClass:"q-mt-sm",attrs:{outline:"",color:"accent"}},[e("q-icon",{staticClass:"q-mr-xs",attrs:{name:"circle",size:"8px"}}),t._v("\n              В сети\n            ")],1)],1),t._v(" "),e("q-card-section",[e("div",{staticClass:"contact-summary"},[e("div",{staticClass:"contact-item q-mb-sm"},[e("q-icon",{staticClass:"q-mr-sm text-grey-6",attrs:{name:"phone",size:"sm"}}),t._v(" "),e("span",{staticClass:"text-h4"},[t._v(t._s(t.userProfile.phone))])],1),t._v(" "),e("div",{staticClass:"contact-item q-mb-md"},[e("q-icon",{staticClass:"q-mr-sm text-grey-6",attrs:{name:"email",size:"sm"}}),t._v(" "),e("span",{staticClass:"text-h4"},[t._v(t._s(t.userProfile.email))])],1)]),t._v(" "),e("div",{},[e("q-btn",{staticClass:"full-width q-mb-sm",attrs:{size:"md",color:"primary","text-color":"dark",label:"Редактировать профиль",icon:"edit",padding:"8px 12px"},on:{click:function(e){t.showEditDataDialog=!0}}}),t._v(" "),e("q-btn",{staticClass:"full-width",attrs:{outline:"",size:"md",label:"Сменить пароль",icon:"lock","text-color":"secondary",padding:"8px 12px"},on:{click:function(e){t.showChangePasswordDialog=!0}}})],1)])],1)],1),t._v(" "),e("div",{staticClass:"col-12 col-md-8"},[e("q-card",[e("div",{ref:"tabsContainer",staticClass:"custom-tabs"},t._l(t.tabs,function(a){return e("div",{key:a.name,staticClass:"custom-tab text-h3 q-pa-md",class:{active:t.currentTab===a.name},on:{click:function(e){t.currentTab=a.name}}},[e("q-icon",{staticClass:"q-mr-sm tab-icon",style:{fontSize:t.containerWidth<657?"2rem":"1.5rem"},attrs:{name:a.icon}}),t._v(" "),t.containerWidth>=657?e("span",{staticClass:"tab-label"},[t._v(t._s(a.label))]):t._e()],1)}),0),t._v(" "),e("q-separator"),t._v(" "),e("div",{staticClass:"tab-content"},["profile"===t.currentTab?e("div",{staticClass:"tab-panel q-pa-md"},[e("div",{staticClass:"text-h2 q-mb-md"},[t._v("Личная информация")]),t._v(" "),e("div",{staticClass:"info-grid"},[e("div",{},[e("div",{staticClass:"text-h5"},[t._v("Полное имя")]),t._v(" "),e("div",{staticClass:"text-h4"},[t._v(t._s(t.userProfile.name))])]),t._v(" "),e("div",{},[e("div",{staticClass:"text-h5"},[t._v("Должность")]),t._v(" "),e("div",{staticClass:"text-h4"},[t._v(t._s(t.userProfile.role))])]),t._v(" "),e("div",{},[e("div",{staticClass:"text-h5"},[t._v("Телефон")]),t._v(" "),e("div",{staticClass:"text-h4"},[t._v(t._s(t.userProfile.phone))])]),t._v(" "),e("div",{},[e("div",{staticClass:"text-h5"},[t._v("Email")]),t._v(" "),e("div",{staticClass:"text-h4"},[t._v(t._s(t.userProfile.email))])])])]):t._e(),t._v(" "),"security"===t.currentTab?e("div",{staticClass:"tab-panel q-pa-md"},[e("div",{staticClass:"text-h2 q-mb-md"},[t._v("Настройки безопасности")]),t._v(" "),e("q-list",{staticClass:"rounded-borders",attrs:{bordered:""}},[e("q-item",[e("q-item-section",{attrs:{avatar:""}},[e("q-icon",{attrs:{name:"lock",color:"secondary"}})],1),t._v(" "),e("q-item-section",[e("q-item-label",{staticClass:"text-h4"},[t._v("Сменить пароль")]),t._v(" "),e("q-item-label",{staticClass:"text-h5"},[t._v("Последнее изменение: 3 месяца назад")])],1),t._v(" "),e("q-item-section",{attrs:{side:""}},[e("q-btn",{attrs:{size:"md",color:"primary",label:"Изменить",icon:"lock_reset","text-color":"dark",padding:"8px 12px"},on:{click:function(e){t.showChangePasswordDialog=!0}}})],1)],1),t._v(" "),e("q-separator"),t._v(" "),e("q-item",[e("q-item-section",{attrs:{avatar:""}},[e("q-icon",{attrs:{name:"devices",color:"secondary"}})],1),t._v(" "),e("q-item-section",[e("q-item-label",{staticClass:"text-h4"},[t._v("Активные сессии")]),t._v(" "),e("q-item-label",{staticClass:"text-h5"},[t._v("1 активное устройство")])],1),t._v(" "),e("q-item-section",{attrs:{side:""}},[e("q-btn",{attrs:{size:"md",color:"primary",label:"Посмотреть",icon:"search","text-color":"dark",padding:"8px 12px"},on:{click:function(e){t.showChangePasswordDialog=!0}}})],1)],1)],1)],1):t._e(),t._v(" "),"support"===t.currentTab?e("div",{staticClass:"tab-panel q-pa-md"},[e("div",{staticClass:"text-h2 q-mb-md"},[t._v("Информация для техподдержки")]),t._v(" "),e("div",[e("div",{staticClass:"q-pb-md"},[e("div",{staticClass:"text-h5"},[t._v("Ridan ID")]),t._v(" "),e("div",{staticClass:"text-h4"},[t._v(t._s(t.userProfile.danfors))])]),t._v(" "),e("div",{staticClass:"q-pb-md"},[e("div",{staticClass:"text-h5"},[t._v("Место работы")]),t._v(" "),e("div",{staticClass:"text-h4"},[t._v(t._s(t.userProfile.workplace))])]),t._v(" "),e("div",{staticClass:"q-pb-md"},[e("div",{staticClass:"text-h5"},[t._v("VEDA MC")]),t._v(" "),e("div",{staticClass:"text-h4"},[t._v(t._s(t.userProfile.veda))])])]),t._v(" "),e("q-btn",{staticClass:"q-mt-md",attrs:{size:"md",color:"primary",label:"Редактировать данные",icon:"edit","text-color":"dark",padding:"8px 12px"},on:{click:function(e){t.showEditSupportDialog=!0}}})],1):t._e(),t._v(" "),"activity"===t.currentTab?e("div",{staticClass:"tab-panel q-pa-md"},[e("div",{staticClass:"text-h2 q-mb-md"},[t._v("Последняя активность")]),t._v(" "),e("div",{staticClass:"timeline_list"},[e("activity-timeline")],1)]):t._e()]),t._v(" "),e("div",{staticClass:"q-pa-md"},[e("div",{staticClass:"text-h2 q-mb-md"},[t._v("Быстрый доступ")]),t._v(" "),e("div",{staticClass:"row q-col-gutter-sm"},[e("div",{staticClass:"col-6"},[e("q-card",{staticClass:"translate cursor-pointer",on:{click:function(e){return t.$router.push("/support")}}},[e("q-card-section",{staticClass:"text-center"},[e("q-icon",{attrs:{name:"help",size:"lg",color:"primary"}}),t._v(" "),e("div",{staticClass:"text-h4 q-mt-sm"},[t._v("Мои вопросы")])],1)],1)],1),t._v(" "),e("div",{staticClass:"col-6"},[e("q-card",{staticClass:"translate cursor-pointer",on:{click:function(e){return t.$router.push("/devices")}}},[e("q-card-section",{staticClass:"text-center"},[e("q-icon",{attrs:{name:"devices",size:"lg",color:"primary"}}),t._v(" "),e("div",{staticClass:"text-h4 q-mt-sm"},[t._v("Мои устройства")])],1)],1)],1)])])],1)],1)]),t._v(" "),e("BaseDialog",{attrs:{title:"Изменить пароль","confirm-label":"Изменить","is-valid":t.isPasswordFormValid},on:{confirm:t.changePassword,cancel:t.resetPasswordForm},scopedSlots:t._u([{key:"content",fn:function(){return[e("q-input",{staticClass:"content_popup_value",attrs:{label:"Текущий пароль",type:"password",rules:[function(t){return!!t||"Обязательное поле"}]},model:{value:t.passwordData.currentPassword,callback:function(e){t.$set(t.passwordData,"currentPassword",e)},expression:"passwordData.currentPassword"}}),t._v(" "),e("q-input",{staticClass:"content_popup_value",attrs:{label:"Новый пароль",type:"password",rules:[function(t){return!!t||"Обязательное поле"}]},model:{value:t.passwordData.newPassword,callback:function(e){t.$set(t.passwordData,"newPassword",e)},expression:"passwordData.newPassword"}}),t._v(" "),e("q-input",{staticClass:"content_popup_value",attrs:{label:"Подтвердите пароль",type:"password",rules:[function(t){return!!t||"Обязательное поле"}]},model:{value:t.passwordData.confirmPassword,callback:function(e){t.$set(t.passwordData,"confirmPassword",e)},expression:"passwordData.confirmPassword"}})]},proxy:!0}]),model:{value:t.showChangePasswordDialog,callback:function(e){t.showChangePasswordDialog=e},expression:"showChangePasswordDialog"}}),t._v(" "),e("BaseDialog",{attrs:{title:"Изменить контактные данные","confirm-label":"Сохранить","is-valid":t.isContactFormValid},on:{confirm:t.saveContactData,cancel:t.resetDataForm},scopedSlots:t._u([{key:"content",fn:function(){return[e("q-input",{staticClass:"content_popup_value",attrs:{label:"Телефон",rules:[function(t){return!!t||"Обязательное поле"}]},model:{value:t.editData.phone,callback:function(e){t.$set(t.editData,"phone",e)},expression:"editData.phone"}}),t._v(" "),e("q-input",{staticClass:"content_popup_value",attrs:{label:"Почта",type:"email",rules:[function(t){return!!t||"Обязательное поле"}]},model:{value:t.editData.email,callback:function(e){t.$set(t.editData,"email",e)},expression:"editData.email"}})]},proxy:!0}]),model:{value:t.showEditDataDialog,callback:function(e){t.showEditDataDialog=e},expression:"showEditDataDialog"}}),t._v(" "),e("BaseDialog",{attrs:{title:"Изменить данные техподдержки","confirm-label":"Сохранить","is-valid":t.isSupportFormValid},on:{confirm:t.saveSupportData,cancel:t.resetSupportForm},scopedSlots:t._u([{key:"content",fn:function(){return[e("q-input",{staticClass:"content_popup_value",attrs:{label:"Danfors"},model:{value:t.editSupport.danfors,callback:function(e){t.$set(t.editSupport,"danfors",e)},expression:"editSupport.danfors"}}),t._v(" "),e("q-input",{staticClass:"content_popup_value",attrs:{label:"Место работы"},model:{value:t.editSupport.workplace,callback:function(e){t.$set(t.editSupport,"workplace",e)},expression:"editSupport.workplace"}}),t._v(" "),e("q-input",{staticClass:"content_popup_value",attrs:{label:"VEDA MC"},model:{value:t.editSupport.veda,callback:function(e){t.$set(t.editSupport,"veda",e)},expression:"editSupport.veda"}})]},proxy:!0}]),model:{value:t.showEditSupportDialog,callback:function(e){t.showEditSupportDialog=e},expression:"showEditSupportDialog"}})],1)};s._withStripped=!0;a(32),a(33),a(40),a(42),a(41),a(22),a(43),a(39),a(44),a(45),a(116),a(28),a(117),a(26),a(56),a(27),a(46),a(34);var r=a(91),i=a(258),o=function(){var t=this,e=t._self._c;return e("div",[e("q-timeline",{attrs:{color:"secondary"}},t._l(t.timelineEvents,function(a){return e("q-timeline-entry",{key:a.id,attrs:{title:a.title,subtitle:t.formatSubtitle(a.timestamp),icon:a.icon,color:t.getEventColor(a.category)}},[e("div",{staticClass:"text-h4"},[t._v(t._s(a.description))]),t._v(" "),e("div",{staticClass:"text-h5 q-mt-xs"},[t._v("\n        "+t._s(t.formatDate(a.timestamp))+"\n      ")]),t._v(" "),e("q-btn",{staticClass:"q-mt-sm",attrs:{size:"sm",color:"primary",label:"",icon:"delete","text-color":"dark",padding:"6px 30px"},on:{click:function(e){return t.deleteEvent(a.id)}}},[e("q-tooltip",[t._v("Удалить событие")])],1)],1)}),1),t._v(" "),0===t.timelineEvents.length?e("div",{staticClass:"text-center q-pa-lg"},[e("q-icon",{attrs:{name:"history",size:"xl",color:"grey-5"}}),t._v(" "),e("div",{staticClass:"text-h6 q-mt-md text-grey-5"},[t._v("Нет событий")])],1):t._e()],1)};function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach(function(e){u(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function u(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!=n(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}o._withStripped=!0;var d={name:"ActivityTimeline",computed:l({},Object(r.c)("timeline",["timelineEvents"])),methods:l(l({},Object(r.b)("timeline",["deleteEvent"])),{},{formatSubtitle:function(t){var e=new Date-new Date(t),a=Math.floor(e/6e4),s=Math.floor(e/36e5),r=Math.floor(e/864e5);return a<60?"".concat(a," минут назад"):s<24?"".concat(s," часов назад"):"".concat(r," дней назад")},formatDate:function(t){return new Date(t).toLocaleString("ru-RU",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})},getEventColor:function(t){return{question:"primary",device:"secondary",profile:"positive",auth:"info"}[t]||"secondary"}})},p=a(114),v=Object(p.a)(d,o,[],!1,null,null,null).exports;function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function m(){var t,e,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",r=a.toStringTag||"@@toStringTag";function i(a,s,r,i){var c=s&&s.prototype instanceof n?s:n,l=Object.create(c.prototype);return h(l,"_invoke",function(a,s,r){var i,n,c,l=0,u=r||[],d=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(e,a){return i=e,n=0,c=t,p.n=a,o}};function v(a,s){for(n=a,c=s,e=0;!d&&l&&!r&&e<u.length;e++){var r,i=u[e],v=p.p,f=i[2];a>3?(r=f===s)&&(c=i[(n=i[4])?5:(n=3,3)],i[4]=i[5]=t):i[0]<=v&&((r=a<2&&v<i[1])?(n=0,p.v=s,p.n=i[1]):v<f&&(r=a<3||i[0]>s||s>f)&&(i[4]=a,i[5]=s,p.n=f,n=0))}if(r||a>1)return o;throw d=!0,s}return function(r,u,f){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&v(u,f),n=u,c=f;(e=n<2?t:c)||!d;){i||(n?n<3?(n>1&&(p.n=-1),v(n,c)):p.n=c:p.v=c);try{if(l=2,i){if(n||(r="next"),e=i[r]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,n<2&&(n=0)}else 1===n&&(e=i.return)&&e.call(i),n<2&&(c=TypeError("The iterator does not provide a '"+r+"' method"),n=1);i=t}else if((e=(d=p.n<0)?c:a.call(s,p))!==o)break}catch(e){i=t,n=1,c=e}finally{l=1}}return{value:e,done:d}}}(a,r,i),!0),l}var o={};function n(){}function c(){}function l(){}e=Object.getPrototypeOf;var u=[][s]?e(e([][s]())):(h(e={},s,function(){return this}),e),d=l.prototype=n.prototype=Object.create(u);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,h(t,r,"GeneratorFunction")),t.prototype=Object.create(d),t}return c.prototype=l,h(d,"constructor",l),h(l,"constructor",c),c.displayName="GeneratorFunction",h(l,r,"GeneratorFunction"),h(d),h(d,r,"Generator"),h(d,s,function(){return this}),h(d,"toString",function(){return"[object Generator]"}),(m=function(){return{w:i,m:p}})()}function h(t,e,a,s){var r=Object.defineProperty;try{r({},"",{})}catch(t){r=0}h=function(t,e,a,s){if(e)r?r(t,e,{value:a,enumerable:!s,configurable:!s,writable:!s}):t[e]=a;else{var i=function(e,a){h(t,e,function(t){return this._invoke(e,a,t)})};i("next",0),i("throw",1),i("return",2)}},h(t,e,a,s)}function b(t,e,a,s,r,i,o){try{var n=t[i](o),c=n.value}catch(t){return void a(t)}n.done?e(c):Promise.resolve(c).then(s,r)}function w(t){return function(){var e=this,a=arguments;return new Promise(function(s,r){var i=t.apply(e,a);function o(t){b(i,s,r,o,n,"next",t)}function n(t){b(i,s,r,o,n,"throw",t)}o(void 0)})}}function _(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function y(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_(Object(a),!0).forEach(function(e){g(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function g(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=f(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!=f(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==f(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var C={name:"ProfilePage",components:{BaseDialog:i.a,ActivityTimeline:v},data:function(){return{showChangePasswordDialog:!1,showEditDataDialog:!1,showEditSupportDialog:!1,containerWidth:0,currentTab:"profile",tabs:[{name:"profile",icon:"person",label:"Профиль"},{name:"security",icon:"security",label:"Безопасность"},{name:"support",icon:"support",label:"Техподдержка"},{name:"activity",icon:"history",label:"Активность"}],passwordData:{currentPassword:"",newPassword:"",confirmPassword:""},editData:{phone:"",email:""},editSupport:{danfors:"",workplace:"",veda:""},resizeObserver:null}},computed:y(y(y({},Object(r.e)("profile",["isLoading"])),Object(r.c)("profile",["getUserProfile"])),{},{userProfile:function(){return this.getUserProfile},isPasswordFormValid:function(){return this.passwordData.currentPassword&&this.passwordData.newPassword&&this.passwordData.confirmPassword&&this.passwordData.newPassword===this.passwordData.confirmPassword},isContactFormValid:function(){return!!this.editData.phone&&!!this.editData.email},isSupportFormValid:function(){return!!this.editSupport.danfors&&!!this.editSupport.workplace&&!!this.editSupport.veda}}),methods:y(y({},Object(r.b)("profile",["updateProfileData","updatePassword"])),{},{changePassword:function(){var t=this;return w(m().m(function e(){var a;return m().w(function(e){for(;;)switch(e.n){case 0:if(t.passwordData.newPassword===t.passwordData.confirmPassword){e.n=1;break}return t.showNotify("Пароли не совпадают","negative"),e.a(2);case 1:return e.p=1,e.n=2,t.updatePassword({currentPassword:t.passwordData.currentPassword,newPassword:t.passwordData.newPassword});case 2:(a=e.v)&&a.success?(t.showNotify("Пароль успешно изменен","positive"),t.showChangePasswordDialog=!1,t.resetPasswordForm()):t.showNotify((null==a?void 0:a.message)||"Ошибка при изменении пароля","negative"),e.n=4;break;case 3:e.p=3,e.v,t.showNotify("Произошла ошибка","negative"),t.showChangePasswordDialog=!1;case 4:return e.a(2)}},e,null,[[1,3]])}))()},saveContactData:function(){var t=this;return w(m().m(function e(){var a;return m().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,t.updateProfileData(t.editData);case 1:(a=e.v)&&a.success?(t.showNotify("Данные обновлены","positive"),t.showEditDataDialog=!1):t.showNotify((null==a?void 0:a.message)||"Ошибка при обновлении данных","negative"),e.n=3;break;case 2:e.p=2,e.v,t.showNotify("Произошла ошибка","negative"),t.showEditDataDialog=!1;case 3:return e.a(2)}},e,null,[[0,2]])}))()},saveSupportData:function(){var t=this;return w(m().m(function e(){var a;return m().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,t.updateProfileData(t.editSupport);case 1:(a=e.v)&&a.success?(t.showNotify("Данные обновлены","positive"),t.showEditSupportDialog=!1):t.showNotify((null==a?void 0:a.message)||"Ошибка при обновлении данных","negative"),e.n=3;break;case 2:e.p=2,e.v,t.showNotify("Произошла ошибка","negative"),t.showEditSupportDialog=!1;case 3:return e.a(2)}},e,null,[[0,2]])}))()},showNotify:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"positive";this.$q&&this.$q.notify?this.$q.notify({type:e,message:t}):this.$notify?this.$notify({type:e,message:t}):window.$q&&window.$q.notify?window.$q.notify({type:e,message:t}):"negative"===e&&alert("Ошибка: "+t)},resetPasswordForm:function(){this.passwordData.currentPassword="",this.passwordData.newPassword="",this.passwordData.confirmPassword=""},resetDataForm:function(){this.editData.phone=this.userProfile.phone||"",this.editData.email=this.userProfile.email||""},resetSupportForm:function(){this.editSupport.danfors=this.userProfile.danfors||"",this.editSupport.workplace=this.userProfile.workplace||"",this.editSupport.veda=this.userProfile.veda||""},updateContainerWidth:function(){this.$refs.tabsContainer&&(this.containerWidth=this.$refs.tabsContainer.offsetWidth)}}),mounted:function(){var t=this;this.resetDataForm(),this.resetSupportForm(),this.updateContainerWidth(),this.resizeObserver=new ResizeObserver(function(){t.updateContainerWidth()}),this.$refs.tabsContainer&&this.resizeObserver.observe(this.$refs.tabsContainer),window.addEventListener("resize",this.updateContainerWidth)},beforeUnmount:function(){this.resizeObserver&&this.resizeObserver.disconnect(),window.removeEventListener("resize",this.updateContainerWidth)}},q=C,P=Object(p.a)(q,s,[],!1,null,null,null);e.default=P.exports}}]);